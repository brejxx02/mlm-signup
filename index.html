<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Brajesh Network Signup</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  body{background:#0f1320;color:#fff;font-family:sans-serif;padding:20px;}
  .box{max-width:420px;margin:auto;background:#1d2233;padding:20px;border-radius:10px;}
  input,button{width:100%;padding:12px;margin:8px 0;border-radius:6px;border:none;}
  input{background:#2b3045;color:#fff;}
  button{background:#ffb454;font-weight:bold;}
  .msg{margin-top:10px;color:#7dffb0;}
  .err{margin-top:10px;color:#ff6b6b;}
</style>
</head>
<body>

<div class="box">
  <h2>ðŸ”¥ Brajesh Network Signup</h2>

  <input id="name" placeholder="Full Name">
  <input id="email" placeholder="Email">
  <input id="mobile" placeholder="Mobile Number">
  <input id="sponsor" placeholder="Sponsor Code (optional)">
  <button onclick="signup()">Nice Continue</button>

  <p id="msg" class="msg"></p>
  <p id="err" class="err"></p>
</div>



<!-- ================= FIREBASE SETUP (tumne diya woh hi use) ================= -->
<script type="module">

import { initializeApp } 
  from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { getFirestore, doc, setDoc } 
  from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";
import { getAuth, createUserWithEmailAndPassword } 
  from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";

const firebaseConfig = {
    apiKey: "AIzaSyATpuhDoP366I8e7XPcuphtfVdN0ucz69w",
    authDomain: "brajeshnetwork-f21c8.firebaseapp.com",
    projectId: "brajeshnetwork-f21c8",
    storageBucket: "brajeshnetwork-f21c8.firebasestorage.app",
    messagingSenderId: "1053315949596",
    appId: "1:1053315949596:web:7bbe45427cf6f29520abd9"
};

// Start Firebase
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const auth = getAuth(app);



// ================= SIGNUP FUNCTION =================
async function signup(){
    const name=document.getElementById("name").value;
    const email=document.getElementById("email").value;
    const mobile=document.getElementById("mobile").value;
    const sponsor=document.getElementById("sponsor").value;

    msg.innerHTML=""; err.innerHTML="";

    if(!name||!email||!mobile){err.innerHTML="Fill required fields";return;}

    try{
        const user=await createUserWithEmailAndPassword(auth,email,"TempPass@123");
        const uid=user.user.uid;
        const referral = Math.random().toString(36).substring(2,8).toUpperCase();

        await setDoc(doc(db,"users",uid),{
          name,email,mobile,
          sponsor:sponsor||null,
          referralCode:referral,
          wallet:0,
          levelBonus:{1:0,2:0,3:0,4:0},
          joinedAt: new Date()
        });

        msg.innerHTML="Signup success! Your referral code: "+referral;

    }catch(e){ err.innerHTML=e.message;}
}
</script>
</body>
</html>
